{"Timestamp":"2023-11-18T18:08:40.3976216+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","Exception":"Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination \"PUT api/v1/Post/{postId}\" for actions - StudentBloggAPI.Controllers.PostController.UpdatePost (StudentBloggAPI),StudentBloggAPI.Controllers.PostController.UpdatePost (StudentBloggAPI). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HMV8B2QNLC6N:00000001","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HMV8B2QNLC6N"}}
{"Timestamp":"2023-11-18T18:08:48.9691117+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","Exception":"Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination \"PUT api/v1/Post/{postId}\" for actions - StudentBloggAPI.Controllers.PostController.UpdatePost (StudentBloggAPI),StudentBloggAPI.Controllers.PostController.UpdatePost (StudentBloggAPI). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HMV8B2QNLC6O:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HMV8B2QNLC6O"}}
{"Timestamp":"2023-11-18T18:10:26.1812723+01:00","Level":"Debug","MessageTemplate":"la til en ny bruker: {@user}","Properties":{"user":{"Id":0,"UserId":0,"Title":"Hello","Content":"Arbeidskrav snart ferdig","Created":"2023-11-18T18:10:26.1502852+01:00","Updated":"2023-11-18T18:10:26.1502852+01:00","User":null,"Comments":[],"_typeTag":"Post"},"SourceContext":"StudentBloggAPI.Repository.PostRepository","ActionId":"40497e31-fe37-4d49-807d-5d5734327971","ActionName":"StudentBloggAPI.Controllers.PostController.AddPostAsync (StudentBloggAPI)","RequestId":"0HMV8B4DSGHRJ:00000001","RequestPath":"/api/v1/Post","ConnectionId":"0HMV8B4DSGHRJ"}}
{"Timestamp":"2023-11-18T18:10:26.8205204+01:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 30), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"INSERT INTO `Post` (`Content`, `Created`, `Title`, `Updated`, `UserId`)\r\nVALUES (@p0, @p1, @p2, @p3, @p4);\r\nSELECT `Id`\r\nFROM `Post`\r\nWHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40497e31-fe37-4d49-807d-5d5734327971","ActionName":"StudentBloggAPI.Controllers.PostController.AddPostAsync (StudentBloggAPI)","RequestId":"0HMV8B4DSGHRJ:00000001","RequestPath":"/api/v1/Post","ConnectionId":"0HMV8B4DSGHRJ"}}
{"Timestamp":"2023-11-18T18:10:27.0672455+01:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ga_emne7_studentblogg_api`.`post`, CONSTRAINT `FK_Post_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)\r\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 962\r\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43\r\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\r\n   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468\r\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\r\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 344\r\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 337\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"StudentBloggAPI.Data.MigratonsNy.StudentBloggDbContextNy","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ga_emne7_studentblogg_api`.`post`, CONSTRAINT `FK_Post_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)\r\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 962\r\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43\r\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\r\n   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468\r\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\r\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 344\r\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 337\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"40497e31-fe37-4d49-807d-5d5734327971","ActionName":"StudentBloggAPI.Controllers.PostController.AddPostAsync (StudentBloggAPI)","RequestId":"0HMV8B4DSGHRJ:00000001","RequestPath":"/api/v1/Post","ConnectionId":"0HMV8B4DSGHRJ"}}
{"Timestamp":"2023-11-18T18:10:27.5816240+01:00","Level":"Error","MessageTemplate":"Noe gikk galt - test exception {@Machine} {@TraceId}","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ga_emne7_studentblogg_api`.`post`, CONSTRAINT `FK_Post_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)\r\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 962\r\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43\r\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\r\n   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468\r\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\r\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 344\r\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 337\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at StudentBloggAPI.Repository.PostRepository.AddPostAsync(Post post) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Repository\\PostRepository.cs:line 56\r\n   at StudentBloggAPI.Services.PostService.AddPostAsync(PostDTO postDTO, Int32 inloggedUser) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Services\\PostService.cs:line 34\r\n   at StudentBloggAPI.Controllers.PostController.AddPostAsync(PostDTO postDTO) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Controllers\\PostController.cs:line 46\r\n   at lambda_method74(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at PersonRESTApi.MiddleWare.GlobalExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Middleware\\GlobalExceptionMiddleware.cs:line 16","Properties":{"Machine":"LAPTOP-BT4HN50Q","TraceId":"00-9d35a538b8f855f84e8da888e56cd965-19c835ccd2b3cf7a-00","SourceContext":"PersonRESTApi.MiddleWare.GlobalExceptionMiddleware","RequestId":"0HMV8B4DSGHRJ:00000001","RequestPath":"/api/v1/Post","ConnectionId":"0HMV8B4DSGHRJ"}}
{"Timestamp":"2023-11-18T18:10:27.6682155+01:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"POST","RequestPath":"/api/v1/Post","StatusCode":500,"Elapsed":7321.9099,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8B4DSGHRJ:00000001","ConnectionId":"0HMV8B4DSGHRJ"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"7321.9099"}]}}
{"Timestamp":"2023-11-18T18:14:48.8352155+01:00","Level":"Debug","MessageTemplate":"la til en ny bruker: {@user}","Properties":{"user":{"Id":0,"UserId":16,"Title":"Hello","Content":"This is a post","Created":"2023-11-18T18:14:48.8033927+01:00","Updated":"2023-11-18T18:14:48.8033927+01:00","User":null,"Comments":[],"_typeTag":"Post"},"SourceContext":"StudentBloggAPI.Repository.PostRepository","ActionId":"587672cd-aa4e-45a7-b6ce-c0a2ded8b0a3","ActionName":"StudentBloggAPI.Controllers.PostController.AddPostAsync (StudentBloggAPI)","RequestId":"0HMV8B6VN88FR:00000001","RequestPath":"/api/v1/Post","ConnectionId":"0HMV8B6VN88FR"}}
{"Timestamp":"2023-11-18T18:14:49.7212507+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"POST","RequestPath":"/api/v1/Post","StatusCode":201,"Elapsed":6105.3154,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8B6VN88FR:00000001","ConnectionId":"0HMV8B6VN88FR"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6105.3154"}]}}
{"Timestamp":"2023-11-18T18:15:38.3017373+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"GET","RequestPath":"/api/v1/Post","StatusCode":200,"Elapsed":505.6076,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8B6VN88FS:00000001","ConnectionId":"0HMV8B6VN88FS"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"505.6076"}]}}
{"Timestamp":"2023-11-18T18:15:54.6125414+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"GET","RequestPath":"/api/v1/Post/31","StatusCode":200,"Elapsed":646.4149,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8B6VN88FT:00000001","ConnectionId":"0HMV8B6VN88FT"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"646.4149"}]}}
{"Timestamp":"2023-11-18T18:28:03.3568016+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/2","StatusCode":200,"Elapsed":4526.4693,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8B9LANU9L:00000001","ConnectionId":"0HMV8B9LANU9L"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4526.4693"}]}}
{"Timestamp":"2023-11-18T23:13:00.4008819+01:00","Level":"Error","MessageTemplate":"Forøkte å oppdate en ikke-eksisterende kommentar {@commentID}.","Properties":{"commentID":0,"SourceContext":"StudentBloggAPI.Services.CommentService","ActionId":"81c5b8b4-a667-4193-802a-36fb053c0d12","ActionName":"StudentBloggAPI.Controllers.CommentsController.UpdateComments (StudentBloggAPI)","RequestId":"0HMV8BOCT267N:00000001","RequestPath":"/api/v1/Comments/15","ConnectionId":"0HMV8BOCT267N"}}
{"Timestamp":"2023-11-18T23:13:00.4760723+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/15","StatusCode":404,"Elapsed":2420.8895,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8BOCT267N:00000001","ConnectionId":"0HMV8BOCT267N"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2420.8895"}]}}
{"Timestamp":"2023-11-18T23:13:09.0781845+01:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET AUTOCOMMIT = 1;\r\nUPDATE `Comments` SET `Content` = @p0, `Updates` = @p1, `UserId` = @p2\r\nWHERE `Id` = @p3;\r\nSELECT ROW_COUNT();","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"81c5b8b4-a667-4193-802a-36fb053c0d12","ActionName":"StudentBloggAPI.Controllers.CommentsController.UpdateComments (StudentBloggAPI)","RequestId":"0HMV8BOCT267O:00000001","RequestPath":"/api/v1/Comments/15","ConnectionId":"0HMV8BOCT267O"}}
{"Timestamp":"2023-11-18T23:13:09.1555523+01:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ga_emne7_studentblogg_api`.`comments`, CONSTRAINT `FK_Comments_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)\r\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 962\r\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43\r\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\r\n   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468\r\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\r\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 344\r\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 337\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"StudentBloggAPI.Data.MigratonsNy.StudentBloggDbContextNy","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ga_emne7_studentblogg_api`.`comments`, CONSTRAINT `FK_Comments_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)\r\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 962\r\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43\r\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\r\n   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468\r\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\r\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 344\r\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 337\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"81c5b8b4-a667-4193-802a-36fb053c0d12","ActionName":"StudentBloggAPI.Controllers.CommentsController.UpdateComments (StudentBloggAPI)","RequestId":"0HMV8BOCT267O:00000001","RequestPath":"/api/v1/Comments/15","ConnectionId":"0HMV8BOCT267O"}}
{"Timestamp":"2023-11-18T23:13:09.5510938+01:00","Level":"Error","MessageTemplate":"Noe gikk galt - test exception {@Machine} {@TraceId}","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ga_emne7_studentblogg_api`.`comments`, CONSTRAINT `FK_Comments_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)\r\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 962\r\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43\r\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\r\n   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468\r\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\r\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 344\r\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 337\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at StudentBloggAPI.Repository.CommentRepository.UpdateCommentAsync(Int32 commentId, Comment comment) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Repository\\CommentRepository.cs:line 78\r\n   at StudentBloggAPI.Services.CommentService.UpdateCommentAsync(Int32 commentId, CommentDTO commentDTO, Int32 inloggedUserId) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Services\\CommentService.cs:line 100\r\n   at StudentBloggAPI.Controllers.CommentsController.UpdateComments(Int32 commentId, CommentDTO commentDTO) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Controllers\\CommentsController.cs:line 50\r\n   at lambda_method74(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at PersonRESTApi.MiddleWare.GlobalExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Middleware\\GlobalExceptionMiddleware.cs:line 16","Properties":{"Machine":"LAPTOP-BT4HN50Q","TraceId":"00-66dda5eeb4ee7f787e6049315ccdf912-80abb1359875ad65-00","SourceContext":"PersonRESTApi.MiddleWare.GlobalExceptionMiddleware","RequestId":"0HMV8BOCT267O:00000001","RequestPath":"/api/v1/Comments/15","ConnectionId":"0HMV8BOCT267O"}}
{"Timestamp":"2023-11-18T23:13:09.5850412+01:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/15","StatusCode":500,"Elapsed":951.4443,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8BOCT267O:00000001","ConnectionId":"0HMV8BOCT267O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"951.4443"}]}}
{"Timestamp":"2023-11-18T23:16:09.0958711+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/2","StatusCode":200,"Elapsed":2304.1395,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GF9US0K7:00000001","ConnectionId":"0HMV8GF9US0K7"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2304.1395"}]}}
{"Timestamp":"2023-11-18T23:16:35.9640414+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/2","StatusCode":200,"Elapsed":261.0718,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GF9US0K8:00000001","ConnectionId":"0HMV8GF9US0K8"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"261.0718"}]}}
{"Timestamp":"2023-11-18T23:16:48.2682159+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/2","StatusCode":200,"Elapsed":320.3771,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GF9US0K9:00000001","ConnectionId":"0HMV8GF9US0K9"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"320.3771"}]}}
{"Timestamp":"2023-11-18T23:16:49.3016994+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/2","StatusCode":200,"Elapsed":225.4441,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GF9US0K9:00000003","ConnectionId":"0HMV8GF9US0K9"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"225.4441"}]}}
{"Timestamp":"2023-11-18T23:19:21.9127792+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments","StatusCode":401,"Elapsed":316.925,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GH7QOIG0:00000001","ConnectionId":"0HMV8GH7QOIG0"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"316.9250"}]}}
{"Timestamp":"2023-11-18T23:19:42.9416571+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments","StatusCode":401,"Elapsed":35.7679,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GH7QOIG1:00000001","ConnectionId":"0HMV8GH7QOIG1"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.7679"}]}}
{"Timestamp":"2023-11-18T23:23:34.5714944+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments","StatusCode":401,"Elapsed":295.3301,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GJHDAVS1:00000001","ConnectionId":"0HMV8GJHDAVS1"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"295.3301"}]}}
{"Timestamp":"2023-11-18T23:25:57.0347790+01:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET AUTOCOMMIT = 1;\r\nUPDATE `Comments` SET `Content` = @p0, `Updates` = @p1, `UserId` = @p2\r\nWHERE `Id` = @p3;\r\nSELECT ROW_COUNT();","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eabf09bf-5192-40b8-b1ae-37685995b272","ActionName":"StudentBloggAPI.Controllers.CommentsController.UpdateComments (StudentBloggAPI)","RequestId":"0HMV8GKPRLNCO:00000001","RequestPath":"/api/v1/Comments/16","ConnectionId":"0HMV8GKPRLNCO"}}
{"Timestamp":"2023-11-18T23:25:57.1302400+01:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ga_emne7_studentblogg_api`.`comments`, CONSTRAINT `FK_Comments_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)\r\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 962\r\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43\r\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\r\n   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468\r\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\r\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 344\r\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 337\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"StudentBloggAPI.Data.MigratonsNy.StudentBloggDbContextNy","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ga_emne7_studentblogg_api`.`comments`, CONSTRAINT `FK_Comments_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)\r\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 962\r\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43\r\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\r\n   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468\r\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\r\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 344\r\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 337\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"eabf09bf-5192-40b8-b1ae-37685995b272","ActionName":"StudentBloggAPI.Controllers.CommentsController.UpdateComments (StudentBloggAPI)","RequestId":"0HMV8GKPRLNCO:00000001","RequestPath":"/api/v1/Comments/16","ConnectionId":"0HMV8GKPRLNCO"}}
{"Timestamp":"2023-11-18T23:25:57.6021382+01:00","Level":"Error","MessageTemplate":"Noe gikk galt - test exception {@Machine} {@TraceId}","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ga_emne7_studentblogg_api`.`comments`, CONSTRAINT `FK_Comments_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)\r\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 962\r\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43\r\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\r\n   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468\r\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\r\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 344\r\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 337\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at StudentBloggAPI.Repository.CommentRepository.UpdateCommentAsync(Int32 commentId, Comment comment) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Repository\\CommentRepository.cs:line 78\r\n   at StudentBloggAPI.Services.CommentService.UpdateCommentAsync(Int32 commentId, CommentDTO commentDTO, Int32 inloggedUserId) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Services\\CommentService.cs:line 100\r\n   at StudentBloggAPI.Controllers.CommentsController.UpdateComments(Int32 commentId, CommentDTO commentDTO) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Controllers\\CommentsController.cs:line 50\r\n   at lambda_method74(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at PersonRESTApi.MiddleWare.GlobalExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\3.Termin\\MestOppdatert\\Uke39\\StudentBloggAPI\\Middleware\\GlobalExceptionMiddleware.cs:line 16","Properties":{"Machine":"LAPTOP-BT4HN50Q","TraceId":"00-b59d2d21a791b24cae7c9a65b0d6b884-65de8a1319435ef8-00","SourceContext":"PersonRESTApi.MiddleWare.GlobalExceptionMiddleware","RequestId":"0HMV8GKPRLNCO:00000001","RequestPath":"/api/v1/Comments/16","ConnectionId":"0HMV8GKPRLNCO"}}
{"Timestamp":"2023-11-18T23:25:57.6459344+01:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/16","StatusCode":500,"Elapsed":2975.6583,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GKPRLNCO:00000001","ConnectionId":"0HMV8GKPRLNCO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2975.6583"}]}}
{"Timestamp":"2023-11-18T23:29:30.5581348+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/2","StatusCode":401,"Elapsed":523.2361,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GN1T7VM4:00000001","ConnectionId":"0HMV8GN1T7VM4"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"523.2361"}]}}
{"Timestamp":"2023-11-18T23:29:55.1121859+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/16","StatusCode":401,"Elapsed":59.2437,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GN1T7VM5:00000001","ConnectionId":"0HMV8GN1T7VM5"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"59.2437"}]}}
{"Timestamp":"2023-11-18T23:29:57.6241283+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/16","StatusCode":401,"Elapsed":43.3094,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GN1T7VM5:00000003","ConnectionId":"0HMV8GN1T7VM5"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.3094"}]}}
{"Timestamp":"2023-11-18T23:30:02.4044388+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/16","StatusCode":401,"Elapsed":22.4165,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GN1T7VM5:00000005","ConnectionId":"0HMV8GN1T7VM5"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.4165"}]}}
{"Timestamp":"2023-11-18T23:30:18.1379436+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/16","StatusCode":401,"Elapsed":25.1433,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GN1T7VM5:00000007","ConnectionId":"0HMV8GN1T7VM5"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.1433"}]}}
{"Timestamp":"2023-11-18T23:30:18.8460107+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Comments/16","StatusCode":401,"Elapsed":41.0508,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GN1T7VM5:00000009","ConnectionId":"0HMV8GN1T7VM5"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.0508"}]}}
{"Timestamp":"2023-11-18T23:31:09.0159188+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Post/5","StatusCode":401,"Elapsed":28.9263,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GN1T7VM6:00000001","ConnectionId":"0HMV8GN1T7VM6"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.9263"}]}}
{"Timestamp":"2023-11-18T23:32:26.7296453+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Users/16","StatusCode":401,"Elapsed":28.1029,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GN1T7VM7:00000001","ConnectionId":"0HMV8GN1T7VM7"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.1029"}]}}
{"Timestamp":"2023-11-18T23:34:31.3839613+01:00","Level":"Information","MessageTemplate":"Hentet brukere fra side {PageNr} med størrelse {PageSize}","Properties":{"PageNr":1,"PageSize":10,"SourceContext":"StudentBloggAPI.Services.UserService","ActionId":"73a557d9-1fbe-45f6-852a-3ec046b8decd","ActionName":"StudentBloggAPI.Controllers.UsersController.GetAllUsers (StudentBloggAPI)","RequestId":"0HMV8GQ0979QG:00000001","RequestPath":"/api/v1/Users","ConnectionId":"0HMV8GQ0979QG"}}
{"Timestamp":"2023-11-18T23:34:31.4723460+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"GET","RequestPath":"/api/v1/Users","StatusCode":200,"Elapsed":2035.4945,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GQ0979QG:00000001","ConnectionId":"0HMV8GQ0979QG"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2035.4945"}]}}
{"Timestamp":"2023-11-18T23:34:39.4342122+01:00","Level":"Information","MessageTemplate":"Forsøker å hente bruker med ID: {UserId}","Properties":{"UserId":2,"SourceContext":"StudentBloggAPI.Services.UserService","ActionId":"675aad0e-05f6-417c-9e63-8d8e13d54e21","ActionName":"StudentBloggAPI.Controllers.UsersController.GetUserByIdAsync (StudentBloggAPI)","RequestId":"0HMV8GQ0979QH:00000001","RequestPath":"/api/v1/Users/2","ConnectionId":"0HMV8GQ0979QH"}}
{"Timestamp":"2023-11-18T23:34:39.4357737+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"GET","RequestPath":"/api/v1/Users/2","StatusCode":200,"Elapsed":263.8887,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GQ0979QH:00000001","ConnectionId":"0HMV8GQ0979QH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"263.8887"}]}}
{"Timestamp":"2023-11-18T23:34:51.7201624+01:00","Level":"Debug","MessageTemplate":"Sletter bruker med id: {@id}","Properties":{"id":8,"SourceContext":"StudentBloggAPI.Repository.UserRepositoryDbContext","ActionId":"91243a55-58b7-4f7c-9317-62fce7f3974e","ActionName":"StudentBloggAPI.Controllers.UsersController.DeleteUserAsync (StudentBloggAPI)","RequestId":"0HMV8GQ0979QI:00000001","RequestPath":"/api/v1/Users/8","ConnectionId":"0HMV8GQ0979QI"}}
{"Timestamp":"2023-11-18T23:34:51.7995554+01:00","Level":"Information","MessageTemplate":"Bruker slettet {@user}","Properties":{"user":{"Id":8,"UserName":"user8","FirstName":"Daniel","LastName":"Moore","Email":"daniel.moore8@example.com","HashedPassword":"","Salt":"$","Created":"2023-11-12T22:33:54.0000000","Updated":"2023-11-12T22:33:54.0000000","IsAdminUser":false,"Posts":[],"Comments":[],"_typeTag":"User"},"SourceContext":"StudentBloggAPI.Services.UserService","ActionId":"91243a55-58b7-4f7c-9317-62fce7f3974e","ActionName":"StudentBloggAPI.Controllers.UsersController.DeleteUserAsync (StudentBloggAPI)","RequestId":"0HMV8GQ0979QI:00000001","RequestPath":"/api/v1/Users/8","ConnectionId":"0HMV8GQ0979QI"}}
{"Timestamp":"2023-11-18T23:34:51.8157286+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/v1/Users/8","StatusCode":200,"Elapsed":391.4283,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GQ0979QI:00000001","ConnectionId":"0HMV8GQ0979QI"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"391.4283"}]}}
{"Timestamp":"2023-11-18T23:35:56.3080682+01:00","Level":"Debug","MessageTemplate":"Oppdaterer bruker {@user}","Properties":{"user":{"Id":12,"UserName":"Bismillah","FirstName":"Rahman","LastName":"AlRahim","Email":"Ever@example.com","HashedPassword":"","Salt":"","Created":"2023-11-18T22:35:05.7550000Z","Updated":"0001-01-01T00:00:00.0000000","IsAdminUser":false,"Posts":[],"Comments":[],"_typeTag":"User"},"SourceContext":"StudentBloggAPI.Repository.UserRepositoryDbContext","ActionId":"d89022da-4c96-4b97-b08f-be86a5c293df","ActionName":"StudentBloggAPI.Controllers.UsersController.UpdateUserAsync (StudentBloggAPI)","RequestId":"0HMV8GQ0979QJ:00000001","RequestPath":"/api/v1/Users/12","ConnectionId":"0HMV8GQ0979QJ"}}
{"Timestamp":"2023-11-18T23:35:56.4095172+01:00","Level":"Information","MessageTemplate":"Bruker med ID {UserId} ble oppdatert vellykket","Properties":{"UserId":12,"SourceContext":"StudentBloggAPI.Services.UserService","ActionId":"d89022da-4c96-4b97-b08f-be86a5c293df","ActionName":"StudentBloggAPI.Controllers.UsersController.UpdateUserAsync (StudentBloggAPI)","RequestId":"0HMV8GQ0979QJ:00000001","RequestPath":"/api/v1/Users/12","ConnectionId":"0HMV8GQ0979QJ"}}
{"Timestamp":"2023-11-18T23:35:56.4112189+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"PUT","RequestPath":"/api/v1/Users/12","StatusCode":200,"Elapsed":371.3729,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GQ0979QJ:00000001","ConnectionId":"0HMV8GQ0979QJ"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"371.3729"}]}}
{"Timestamp":"2023-11-18T23:36:43.1970258+01:00","Level":"Debug","MessageTemplate":"Legger til en ny bruker med navn: {@user} ","Properties":{"user":{"Id":0,"UserName":"BWA","FirstName":"Kevin","LastName":"Gates","Email":"Bwa@gmail.com","HashedPassword":"$2a$11$rD7zb0YpQ7En.gR8cyl5m.fjJfw9S97KujhwzgDhfgwjFc1EAqKS6","Salt":"$2a$11$rD7zb0YpQ7En.gR8cyl5m.","Created":"2023-11-18T23:36:42.9821960+01:00","Updated":"2023-11-18T23:36:42.9821960+01:00","IsAdminUser":true,"Posts":[],"Comments":[],"_typeTag":"User"},"SourceContext":"StudentBloggAPI.Repository.UserRepositoryDbContext","ActionId":"a668bb3f-9c6c-4982-ace4-fd9d4975ed13","ActionName":"StudentBloggAPI.Controllers.UsersController.AddUserAsync (StudentBloggAPI)","RequestId":"0HMV8GQ0979QK:00000001","RequestPath":"/api/v1/Users/register","ConnectionId":"0HMV8GQ0979QK"}}
{"Timestamp":"2023-11-18T23:36:43.3019606+01:00","Level":"Information","MessageTemplate":"Ny bruker registrert: {@user}","Properties":{"user":{"Id":17,"UserName":"BWA","FirstName":"Kevin","LastName":"Gates","Email":"Bwa@gmail.com","HashedPassword":"$2a$11$rD7zb0YpQ7En.gR8cyl5m.fjJfw9S97KujhwzgDhfgwjFc1EAqKS6","Salt":"$2a$11$rD7zb0YpQ7En.gR8cyl5m.","Created":"2023-11-18T23:36:42.9821960+01:00","Updated":"2023-11-18T23:36:42.9821960+01:00","IsAdminUser":true,"Posts":[],"Comments":[],"_typeTag":"User"},"SourceContext":"StudentBloggAPI.Services.UserService","ActionId":"a668bb3f-9c6c-4982-ace4-fd9d4975ed13","ActionName":"StudentBloggAPI.Controllers.UsersController.AddUserAsync (StudentBloggAPI)","RequestId":"0HMV8GQ0979QK:00000001","RequestPath":"/api/v1/Users/register","ConnectionId":"0HMV8GQ0979QK"}}
{"Timestamp":"2023-11-18T23:36:43.3096725+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"POST","RequestPath":"/api/v1/Users/register","StatusCode":200,"Elapsed":376.8737,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GQ0979QK:00000001","ConnectionId":"0HMV8GQ0979QK"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"376.8737"}]}}
{"Timestamp":"2023-11-18T23:36:49.0241442+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"GET","RequestPath":"/api/v1/Post","StatusCode":200,"Elapsed":236.0739,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GQ0979QL:00000001","ConnectionId":"0HMV8GQ0979QL"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"236.0739"}]}}
{"Timestamp":"2023-11-18T23:37:13.4407306+01:00","Level":"Debug","MessageTemplate":"la til en ny bruker: {@user}","Properties":{"user":{"Id":99,"UserId":16,"Title":"Hello","Content":"World","Created":"2023-11-18T23:37:13.4384955+01:00","Updated":"2023-11-18T23:37:13.4384955+01:00","User":null,"Comments":[],"_typeTag":"Post"},"SourceContext":"StudentBloggAPI.Repository.PostRepository","ActionId":"aabbef46-bc3a-4bfd-81d0-f58980b5a59d","ActionName":"StudentBloggAPI.Controllers.PostController.AddPostAsync (StudentBloggAPI)","RequestId":"0HMV8GQ0979QM:00000001","RequestPath":"/api/v1/Post","ConnectionId":"0HMV8GQ0979QM"}}
{"Timestamp":"2023-11-18T23:37:13.5097894+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"POST","RequestPath":"/api/v1/Post","StatusCode":201,"Elapsed":338.6652,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GQ0979QM:00000001","ConnectionId":"0HMV8GQ0979QM"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"338.6652"}]}}
{"Timestamp":"2023-11-18T23:39:36.5835199+01:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","Properties":{"RequestMethod":"GET","RequestPath":"/api/v1/Post/2","StatusCode":200,"Elapsed":232.3184,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMV8GQ0979QN:00000001","ConnectionId":"0HMV8GQ0979QN"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"232.3184"}]}}
